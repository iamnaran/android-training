package com.nepal.andoriddemo.presenters;import com.nepal.andoriddemo.apiservices.ApiClient;import com.nepal.andoriddemo.apiservices.LoginApiService;import com.nepal.andoriddemo.models.UserLogin;import java.lang.ref.WeakReference;import retrofit2.Call;import retrofit2.Callback;import retrofit2.Response;//// Created by  on 2019-09-04.//public    class TestPresenter   {    private WeakReference<TestPresenter.View> view;    public TestPresenter(WeakReference<View> view) {        this.view = view;    }    private TestPresenter.View getView() throws NullPointerException {        if (view != null)            return view.get();        else            throw new NullPointerException("View is unavailable");    }    public interface View {        void onLoginResponseSucess(UserLogin userLogin);        void onResponseFailure(String message);    }    public void loginApi(String email, String password){        // api hit        LoginApiService loginApiService = ApiClient.getClient().create(LoginApiService.class);        loginApiService.loginService(email,password).enqueue(new Callback<UserLogin>() {            @Override            public void onResponse(Call<UserLogin> call, Response<UserLogin> response) {                if (response.isSuccessful()){                    getView().onLoginResponseSucess(response.body());                }            }            @Override            public void onFailure(Call<UserLogin> call, Throwable t) {                getView().onResponseFailure("Some error occurred");            }        });    }}